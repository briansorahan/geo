package geo

import "testing"

func TestPointsScan(t *testing.T) {
	// Pass
	for i, s := range []string{
		`(-114.568826928926 33.5236368809412,-114.568816450573 33.5228264056869,-114.568751159798 33.5200958667454,-114.568773070263 33.5200663151826`,
		`-114.568826928926 33.5236368809412,-114.568816450573 33.5228264056869,-114.568751159798 33.5200958667454,-114.568773070263 33.5200663151826)`,
		`-114.568826928926 33.5236368809412,-114.568816450573 33.5228264056869,-114.568751159798 33.5200958667454,-114.568773070263 33.5200663151826`,
	} {
		if _, err := pointsScan(s); err != nil {
			t.Fatalf("(case %d) %s", i, err)
		}
	}

	// Fail
	for i, s := range []string{
		`(-114.568826928926 33.5236368809412,-114.568816450573 33.5228264056869,-114.568751159798 33.5200958667454,-114.568773070263 33.520066abcd1826`,
	} {
		if _, err := pointsScan(s); err == nil {
			t.Fatalf("(case %d) expected error, got nil", i)
		}
	}
}
